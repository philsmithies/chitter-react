(this["webpackJsonpchitter-react"]=this["webpackJsonpchitter-react"]||[]).push([[0],{157:function(e,t,a){},176:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(12),r=a.n(s),i=(a(157),a(6)),l=a(17),o=a(15),u=a(14),j=a.n(u),d=a(18),b=a(346),h=a(11),p=a.n(h),m=a(340),O=(a(176),a(1)),x=Object(n.createContext)(null),f=a(141),g=a.n(f),v=a(29),w=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function N(e){var t=w(),a=Object(n.useContext)(x),c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],l=s[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),h=u[0],m=u[1],f=Object(n.useState)(""),N=Object(i.a)(f,2),C=N[0],k=N[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),I=S[0],_=S[1],T=Object(n.useState)(!1),P=Object(i.a)(T,2),U=P[0],B=P[1],L=0,F=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){_(t.result)}},A=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/new",{text:C,author:a,imageUrl:t},{withCredentials:!0}).then((function(e){console.log(e),"Tweet Created"===e.data?window.location.href="/":"Tweet Created"!==e.data&&(m("Tweet could not be created"),clearTimeout(L),L=setTimeout((function(){m(""),L=0}),1e4))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}"",A(""),e.next=13;break;case 5:return(a=new FormData).append("file",r),a.append("upload_preset","chitter"),e.next=10,p.a.post("https://api.cloudinary.com/v1_1/dryaxqxie/image/upload",a);case 10:n=e.sent,c=n.data.secure_url,A(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"App",children:[U&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"overlay"}),Object(O.jsxs)("div",{className:"modal",children:[Object(O.jsx)("header",{className:"modal__header",children:Object(O.jsx)("div",{onClick:function(){console.log("closed"),B(!1)},className:"close-button",children:"\xd7"})}),Object(O.jsx)("main",{className:"modal__main",children:Object(O.jsxs)("div",{children:[h,Object(O.jsxs)("form",{autoComplete:"off",children:[Object(O.jsxs)("div",{className:"tweetDiv",children:[Object(O.jsxs)("div",{className:"inputPhoto",children:[Object(O.jsx)("div",{className:"profile_photo",children:e.publicId?Object(O.jsx)(v.a,{className:"profile_photo",cloudName:"chitter",publicId:e.publicId}):Object(O.jsx)("img",{src:"./img/bluetit.jpg",alt:"new user"})}),Object(O.jsx)("input",{type:"text",id:"tweetInput",name:"tweet",placeholder:"Whats happening?",required:!0,onChange:function(e){k(e.target.value)}})]}),Object(O.jsx)("input",{required:!0,accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){l(e.target.files[0]);var t=e.target.files[0];F(t)}}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(g.a,{className:"addPhoto"})})]}),Object(O.jsx)("div",{className:"uploadBtn",children:Object(O.jsx)(b.a,{id:"submitBtn",className:"tweetBtnSubmit",onClick:W,children:"Tweet"})})]})]})}),I&&Object(O.jsx)("div",{className:"previewDiv",children:Object(O.jsx)("img",{src:I,alt:"chosen",className:"preview-image"})})]})]}),Object(O.jsx)("button",{className:"tweetSideButton",onClick:function(){e.link?window.location.href="/signup":B(!0)},children:"Tweet"})]})}a(294);function C(){var e=Object(n.useContext)(x);return Object(O.jsxs)("div",{className:"explore_wrapper",children:[Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"/",children:Object(O.jsx)("img",{src:"/img/bird.png",className:"birdLogo",alt:"chitter logo"})})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{href:"/",children:Object(O.jsxs)("h1",{className:"menuItem",children:[Object(O.jsx)("img",{src:"/img/hashtag.png",alt:"hashtag",className:"hashtag"})," Explore"]})}),e?Object(O.jsx)(N,{}):Object(O.jsx)(N,{link:"/signup"})]})]})}a(295);function k(e){return Object(O.jsx)("div",{children:"Log Out"===e.text?Object(O.jsx)("div",{className:"SignUpLink",onClick:function(){p.a.get("/logout",{withCredentials:!0}).then((function(e){if("Logged Out"===e.data)return window.location.href="/"}))},children:Object(O.jsx)("div",{className:"logInBtn",children:Object(O.jsx)("p",{children:e.text})})}):Object(O.jsx)(l.b,{to:e.link||"/",className:"SignUpLink",children:Object(O.jsx)("div",{className:"logInBtn",children:Object(O.jsx)("p",{children:e.text})})})})}a(297);function y(e){return Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/profile/"+e.username||!1,className:"SignUpLink",children:Object(O.jsx)("div",{className:"logInBtn",children:Object(O.jsx)("p",{children:"Profile"})})})})}a(298);function S(){var e=Object(n.useContext)(x).user;return Object(O.jsx)("div",{className:"SignUpBarWrapper",children:e?Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"welcome_title",children:["Hello ",e]}),Object(O.jsx)(y,{username:e}),Object(O.jsx)(k,{text:"Log Out"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"New To Chitter?"}),Object(O.jsx)("p",{children:"Sign up now to get your own personalized timeline!"}),Object(O.jsx)(k,{text:"Sign Up",link:"/signup"}),Object(O.jsx)(k,{text:"Log In",link:"/login"})]})})}a(299);var I=a(143),_=a.n(I),T=a(142),P=a.n(T),U=a(144),B=a.n(U),L=a(145),F=a.n(L),A=a(345);function W(e){var t;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"tweet_wrapper",children:[Object(O.jsx)("div",{className:"profile_photo",children:e.publicId?Object(O.jsx)(v.a,{className:"profile_photo",cloudName:"chitter",publicId:e.publicId}):Object(O.jsx)("img",{src:"/img/bluetit.jpg",alt:"new user"})}),Object(O.jsxs)("div",{className:"tweet_content",children:[Object(O.jsxs)("div",{className:"username",children:[Object(O.jsx)(l.b,{to:"/profile/".concat(e.username)||!1,className:"profileLinks",children:Object(O.jsx)("strong",{children:e.fullName})}),Object(O.jsxs)("small",{className:"usernameText",children:["@",e.username?e.username:""]}),Object(O.jsx)("small",{className:"dateText",children:(t=e.createdAt,Object(A.a)(new Date(t),"E MMM dd yyyy"))})]}),Object(O.jsx)("div",{className:"bodyText",children:e.text}),Object(O.jsx)("div",{children:""!==e.imageUrl?Object(O.jsx)("a",{href:e.imageUrl||"/",children:Object(O.jsx)(v.a,{className:"tweet_photo",cloudName:"chitter",publicId:e.imageUrl})}):""}),Object(O.jsxs)("div",{className:"tweet_functions",children:[Object(O.jsx)(P.a,{className:"chatBubble"}),Object(O.jsx)(_.a,{className:"retweet"}),Object(O.jsx)(B.a,{className:"heart"}),Object(O.jsx)(F.a,{className:"link"})]})]})]})})}a(300);function E(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){p()("/tweets").then((function(e){c(e.data)})).catch((function(e){console.log("Error getting data: "+e)}))}),[]),Object(O.jsx)("div",{className:"tweets_feed",children:a.map((function(e,t){return Object(O.jsx)(W,{fullName:e.author.fullName,publicId:e.author?e.author.publicId:"",imageUrl:e.imageUrl,text:e.text,username:e.author?e.author.username:"",createdAt:e.createdAt},t)}))})}a(301);function D(){return Object(O.jsxs)("div",{className:"main_grid",children:[Object(O.jsx)("div",{className:"main_content",children:Object(O.jsx)(E,{})}),Object(O.jsx)("div",{className:"sidebar",children:Object(O.jsx)(C,{})}),Object(O.jsxs)("div",{className:"signupbar",children:[Object(O.jsx)(S,{}),Object(O.jsxs)("p",{className:"project_text",children:["This is a project by"," ",Object(O.jsx)("a",{className:"name_text",href:"www.github.com/philsmithies",children:Object(O.jsx)("span",{children:"Phil Smithies."})})]})]})]})}var q=a(344),M=(a(302),Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})));function J(){var e=M(),t=Object(o.f)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),h=u[0],m=u[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),g=f[0],v=f[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),C=N[0],k=N[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),I=S[0],_=S[1],T=Object(n.useState)(""),P=Object(i.a)(T,2),U=P[0],B=P[1],L=Object(n.useState)(""),F=Object(i.a)(L,2),A=F[0],W=F[1],E=Object(n.useState)(!1),D=Object(i.a)(E,2),J=D[0],z=D[1],R=Object(n.useState)(!1),Z=Object(i.a)(R,2),G=Z[0],H=Z[1],$=Object(n.useState)(!1),Y=Object(i.a)($,2),K=Y[0],Q=Y[1],V=Object(n.useState)(""),X=Object(i.a)(V,2),ee=X[0],te=X[1],ae=Object(n.useState)(""),ne=Object(i.a)(ae,2),ce=ne[0],se=ne[1],re=Object(n.useState)(""),ie=Object(i.a)(re,2),le=ie[0],oe=ie[1],ue=new RegExp("^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$"),je=new RegExp("\\s+"),de=0,be=function(){var e=Object(d.a)(j.a.mark((function e(){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",h),a.append("upload_preset","chitter"),e.next=5,p.a.post("https://api.cloudinary.com/v1_1/dryaxqxie/image/upload",a);case 5:return n=e.sent,c=n.data.secure_url,e.prev=7,e.next=10,p.a.post("/signup",{username:U,fullName:A,password:C,email:g,publicId:c},{withCredentials:!0}).then((function(e){console.log(e),"User Created"===e.data?t.push("/login"):"User Created"!==e.data&&(te("User already exists, please sign in or create new account"),clearTimeout(de),de=setTimeout((function(){te(""),de=0}),6500))}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/signup",{username:U,fullName:A,password:C,email:g,publicId:""},{withCredentials:!0}).then((function(e){console.log(e),"User Created"===e.data?window.location.href="/login":"User Created"!==e.data&&(te("User already exists, please sign in or create new account"),clearTimeout(de),de=setTimeout((function(){te(""),de=0}),6500))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[ee,Object(O.jsxs)("form",{autoComplete:"off",children:[Object(O.jsx)(q.a,{error:J,helperText:le,id:"standard-full-width",label:"username",placeholder:"@jim",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){B(e.target.value)}}),Object(O.jsx)(q.a,{id:"standard-full-width",label:"full name",placeholder:"JimBob",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){W(e.target.value)}}),Object(O.jsx)(q.a,{error:G,helperText:ce,type:"email",id:"standard-full-width",label:"email",placeholder:"jack@chitter.com",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){v(e.target.value)}}),Object(O.jsx)(q.a,{type:"password",id:"standard-full-width",label:"password",placeholder:"***********",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){k(e.target.value)}}),Object(O.jsx)(q.a,{error:K,helperText:s,type:"password",id:"standard-full-width",label:"confirm password",placeholder:"***********",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){_(e.target.value)}}),Object(O.jsxs)("div",{className:e.root,style:{margin:30},children:[Object(O.jsx)("input",{required:!0,accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){m(e.target.files[0])}}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(b.a,{variant:"contained",component:"span",children:"Upload Profile Picture"})})]}),Object(O.jsx)("div",{className:"uploadBtn",children:Object(O.jsx)(b.a,{variant:"contained",style:{width:290,backgroundColor:"lightblue"},onClick:function(e){ue.test(g)?C!==I?(r("Passwords do not match"),Q(!0),clearTimeout(de),de=setTimeout((function(){r(""),de=0}),6500)):""===U||je.test(U)?(oe("Please enter a valid username without spaces"),z(!0),clearTimeout(de),de=setTimeout((function(){oe(""),de=0}),6500)):h?be():he():(H(!0),se("Not a valid email address"),clearTimeout(de),de=setTimeout((function(){se(""),de=0}),6500))},children:"Submit"})})]})]})}a(304),a(305);function z(){return Object(O.jsx)("footer",{children:Object(O.jsx)("p",{children:"\xa9 Chitter: A Twitter Clone Project"})})}function R(){return Object(O.jsxs)("div",{className:"signUpWrapper",children:[Object(O.jsxs)("div",{className:"signUpForm",children:[Object(O.jsx)("h2",{className:"signupHeader",children:"Sign Up To Chitter"}),Object(O.jsx)(J,{})]}),Object(O.jsxs)("p",{className:"accountText",children:["Already have an account? ",Object(O.jsx)("a",{href:"/login",children:"Login"})]}),Object(O.jsx)(z,{})]})}function Z(){var e=Object(o.f)(),t=Object(n.useContext)(x).setUser,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),j=u[0],d=u[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),f=m[0],g=m[1],v=Object(n.useState)(!1),w=Object(i.a)(v,2),N=w[0],C=w[1];return Object(O.jsxs)("form",{autoComplete:"off",children:[Object(O.jsx)(q.a,{error:N,helperText:f,id:"standard-full-width",label:"username",placeholder:"@jim",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){r(e.target.value)}}),Object(O.jsx)(q.a,{type:"password",id:"standard-full-width",label:"password",placeholder:"***********",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){d(e.target.value)}}),Object(O.jsx)(b.a,{variant:"contained",style:{margin:30,backgroundColor:"lightblue"},onClick:function(){p()({method:"POST",data:{username:s.toLowerCase(),password:j},withCredentials:!0,url:"/login"}).then((function(a){a.data.auth?(t(a.data.user.username),e.push("/")):"No User Exists"===a.data&&(g("User Not Found"),C(!0))}))},children:"Submit"})]})}a(306);function G(){return Object(O.jsxs)("div",{className:"logInWrapper",children:[Object(O.jsxs)("div",{className:"logInForm",children:[Object(O.jsx)("h2",{className:"login_header",children:"Log In"}),Object(O.jsx)(Z,{})]}),Object(O.jsxs)("p",{className:"accountText",children:["Need an account? ",Object(O.jsx)("a",{href:"/signup",children:"Sign Up"})]}),Object(O.jsx)(z,{})]})}a(307),a(308);var H=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function $(e){var t=Object(n.useContext)(x).user,a=H(),c=Object(o.f)(),s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],u=r[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),f=m[0],g=m[1],v=Object(n.useState)(""),w=Object(i.a)(v,2),N=w[0],C=w[1],k=Object(n.useState)(""),y=Object(i.a)(k,2),S=y[0],I=y[1],_=0,T=Object(n.useState)(!1),P=Object(i.a)(T,2),U=P[0],B=P[1],L=function(){var e=Object(d.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/users/"+t+"/update/",{bio:N,fullName:S,bioPhotoId:a},{withCredentials:!0}).then((function(e){"Bio Updated"===e.data?c.push("/"):"Bio Updated"!==e.data&&(g("Bio could not be updated"),clearTimeout(_),_=setTimeout((function(){g(""),_=0}),1e4))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=5;break}"",L(""),e.next=13;break;case 5:return(a=new FormData).append("file",l),a.append("upload_preset","chitter"),e.next=10,p.a.post("https://api.cloudinary.com/v1_1/dryaxqxie/image/upload",a);case 10:n=e.sent,c=n.data.secure_url,L(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"updateBioWrapper",children:[U&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"overlay"}),Object(O.jsxs)("div",{className:"modal",children:[Object(O.jsx)("header",{className:"modal__header",children:Object(O.jsx)("div",{onClick:function(){console.log("closed"),B(!1)},className:"close-button",children:"\xd7"})}),Object(O.jsx)("main",{className:"modal__main",children:Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[f,Object(O.jsxs)("form",{autoComplete:"off",children:[Object(O.jsx)(q.a,{id:"standard-full-width",label:"Name",placeholder:e.fullName,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){I(e.target.value)}}),Object(O.jsx)(q.a,{id:"standard-full-width",label:"Your Bio",placeholder:e.bio,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){C(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:30},className:"uploadBtn",children:[Object(O.jsx)("input",{accept:"image/*",className:a.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){u(e.target.files[0]),console.log(l)}}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(b.a,{variant:"contained",component:"span",children:"Update Bio Photo"})})]}),Object(O.jsx)("div",{className:"uploadBtn",children:Object(O.jsx)(b.a,{variant:"contained",style:{width:290,backgroundColor:"lightblue"},onClick:F,children:"Submit"})})]})]})})})]})]}),Object(O.jsx)("button",{className:"button",onClick:function(){console.log(t),e.link?window.location.href="/signup":B(!0)},children:"Edit Bio"})]})}a(309);var Y=a(146),K=a.n(Y);function Q(e){var t;return Object(O.jsxs)("div",{className:"profile_wrapper",children:[Object(O.jsxs)("div",{className:"profile_functions",children:[Object(O.jsx)("div",{className:"arrow",children:Object(O.jsx)(l.b,{to:"/",children:Object(O.jsx)(K.a,{})})}),Object(O.jsx)("div",{className:"functions_text",children:Object(O.jsxs)("h3",{children:[" ",e.username,Object(O.jsx)("br",{}),Object(O.jsxs)("span",{className:"tweetsSpan",children:[e.length," tweets"]})]})})]}),Object(O.jsx)("div",{className:"bannerimg",children:e.bioPhotoId?Object(O.jsx)(v.a,{cloudName:"chitter",publicId:e.bioPhotoId}):Object(O.jsx)("img",{src:"/img/banner.jpeg",alt:"banner"})}),Object(O.jsxs)("div",{className:"bio_wrapper",children:[Object(O.jsxs)("div",{className:"follow_wrapper",children:[e.publicId?Object(O.jsx)(v.a,{className:"profile_hero",cloudName:"chitter",publicId:e.publicId}):Object(O.jsx)("img",{src:"/img/bluetit.jpg",alt:"new user",className:"profile_hero"}),Object(O.jsx)("div",{className:"followBtn",children:"Follow"})]}),Object(O.jsxs)("div",{className:"bio_text",children:[Object(O.jsxs)("h3",{children:[e.fullName||"",Object(O.jsx)("br",{}),Object(O.jsxs)("span",{children:["@",e.username]})]}),Object(O.jsxs)("p",{children:[e.bio,Object(O.jsx)("br",{}),"Joined"," ",e.createdAt?(t=e.createdAt,Object(A.a)(new Date(t),"MMM yyyy")):"August 2021"," "]}),""!==e.bioPhotoId?Object(O.jsx)("div",{children:Object(O.jsx)(v.a,{cloudName:"chitter",bioPhotoId:e.bioPhotoId})}):""]})]})]})}function V(){var e=Object(n.useContext)(x).user,t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),l=Object(i.a)(r,2),u=l[0],b=l[1],h=Object(o.g)().userId;Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/users/"+h+"/tweets/").then((function(e){b(e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();!function(e){e?p()({method:"GET",withCredentials:!0,url:"/profile/"+e}).then((function(e){s(e.data)})):p()({method:"GET",withCredentials:!0,url:"/profile"}).then((function(e){console.log(e.data),s(e.data)}))}(h),e()}),[h]);var m=function(){if(h)return e===h?Object(O.jsx)($,{}):""};return Object(O.jsxs)("div",{className:"profile_grid",children:[c?Object(O.jsxs)("div",{className:"profile_wrapper",children:[Object(O.jsx)(Q,{username:c.username,bio:c.bio?c.bio:"New Chipper",fullName:c.fullName,length:u?u.length:"",cloudName:"chitter",publicId:c.publicId,bioPhotoId:c.bioPhotoId,createdAt:c.createdAt}),Object(O.jsx)("div",{className:"profile_content",children:u?u.map((function(e,t){return Object(O.jsx)(W,{fullName:e.author.fullName,publicId:e.author?e.author.publicId:"",imageUrl:e.imageUrl,text:e.text,username:e.author?e.author.username:"",createdAt:e.createdAt},t)})):""})]}):null,Object(O.jsx)("div",{className:"sidebar",children:Object(O.jsx)(C,{})}),Object(O.jsxs)("div",{className:"signupbar",children:[Object(O.jsx)(S,{}),Object(O.jsx)(m,{}),Object(O.jsxs)("p",{className:"project_text",children:["This is a project by"," ",Object(O.jsx)("a",{className:"name_text",href:"www.github.com/philsmithies",children:Object(O.jsx)("span",{children:"Phil Smithies."})})]})]})]})}a(310);var X=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function ee(){var e=X(),t=Object(n.useContext)(x),a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),u=o[0],h=o[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),g=f[0],v=f[1],w=0,N=function(){var e=Object(d.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("http://localhost:3001/new",{text:g,author:t,imageUrl:a},{withCredentials:!0}).then((function(e){console.log(e),"Tweet Created"===e.data?window.location.href="/":"Tweet Created"!==e.data&&(h("Tweet could not be created"),clearTimeout(w),w=setTimeout((function(){h(""),w=0}),1e4))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=5;break}"",N(""),e.next=13;break;case 5:return(a=new FormData).append("file",s),a.append("upload_preset","chitter"),e.next=10,p.a.post("https://api.cloudinary.com/v1_1/dryaxqxie/image/upload",a);case 10:n=e.sent,c=n.data.secure_url,N(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[u,Object(O.jsxs)("form",{autoComplete:"off",children:[Object(O.jsx)(q.a,{id:"standard-full-width",label:"username",placeholder:"tweet",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){v(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:30},className:"uploadBtn",children:[Object(O.jsx)("input",{required:!0,accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){r(e.target.files[0])}}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(b.a,{variant:"contained",component:"span",children:"Upload Profile Picture"})})]}),Object(O.jsx)("div",{className:"uploadBtn",children:Object(O.jsx)(b.a,{variant:"contained",style:{width:290,backgroundColor:"lightblue"},onClick:C,children:"Submit"})})]})]})}function te(){var e=Object(n.useContext)(x).user;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Test"}),Object(O.jsx)("pre",{children:JSON.stringify(e,null,2)})]})}var ae=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(i.a)(s,2),u=r[0],j=(r[1],Object(n.useMemo)((function(){return{user:a,setUser:c}}),[a,c]));return Object(O.jsx)(l.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(x.Provider,{value:j,children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:D}),Object(O.jsx)(o.a,{path:"/signup",component:R}),Object(O.jsx)(o.a,{path:"/login",component:G}),Object(O.jsx)(o.a,{path:"/profile/:userId",component:V}),Object(O.jsx)(o.a,{path:"/new",component:ee}),Object(O.jsx)(o.a,{path:"/test",component:te}),Object(O.jsx)(o.a,{path:"/users",component:u?"":G}),Object(O.jsx)(o.a,{path:"/tweets",component:u?"":G})]})}),Object(O.jsx)(z,{})]})})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,348)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(ae,{})}),document.getElementById("root")),ne()}},[[311,1,2]]]);
//# sourceMappingURL=main.3354b9ad.chunk.js.map